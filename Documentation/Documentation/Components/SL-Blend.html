<!-- #BeginTemplate "/Templates/manual-page.dwt" --><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">







<html xmlns="http://www.w3.org/1999/xhtml">







<head>







<meta charset="utf-8">







	<!-- #TemplateBeginEditable name="doctitle" -->







		<title>Unity - ShaderLab syntax: Blending</title>







	<!-- #TemplateEndEditable -->







</head>







<link rel="StyleSheet"  href="../Images/docs.css" type="text/css" />







<body onLoad="DocLoaded();">







<table class="titlebar" cellpadding=0 cellspacing=0 border=0><tr>







	<td class="titleleft"><img src="../images/top/left.png"></td>







	<td><a href="../../Documentation.html"><img src="../images/top/logo.png"></a></td>







	<td class="titlemid">







		<table><tr>







			<td class="doctitle">ShaderLab syntax: Blending</td>







			<td><table align="right"><tr>







			<!-- #TemplateBeginEditable name="sections-nav" -->







			<td class="Components"><a href="../Manual/index.html" title="Go to Unity manual" class="scripting-anchor"><img src="../images/spacer.gif" class="manual" border="0"><span class="manual-text">Manual</span></a><span class="docs-navigation">&nbsp;&nbsp;&nbsp;&nbsp;</span></td>







			<td class="Components"><a href="../Components/index.html" title="Go to Reference" class="scripting-anchor"><img src="../images/spacer.gif" class="reference" border="0"><span class="components-text">Reference</span></a><span class="docs-navigation">&nbsp;&nbsp;&nbsp;&nbsp;</span></td>







			<td class="Components"><a href="../ScriptReference/index.html" title="Go to Scripting Reference" class="scripting-anchor"><img src="../images/spacer.gif" class="scripting" border="0"><span class="scripting-text">Scripting &nbsp;&nbsp;</span></a></td>







			<!-- #TemplateEndEditable -->	







			</tr></table></td>







		</tr><tr>







			<td colspan="4">







				<table width="100%" class="docpath"><tr><td >







		<!-- #TemplateBeginEditable name="path" -->







					<a href="../Components/index.html">Reference Manual</a> &gt; <a href="../Components/SL-Reference.html">Shader Reference</a> &gt; <a href="../Components/SL-Shader.html">ShaderLab syntax: Shader</a> &gt; <a href="../Components/SL-SubShader.html">ShaderLab syntax: SubShader</a> &gt; <a href="../Components/SL-Pass.html">ShaderLab syntax: Pass</a> &gt; <a href="../Components/SL-Blend.html">ShaderLab syntax: Blending</a>







		<!-- #TemplateEndEditable -->	







				</td>







				</td><td class="switchlink">







					<!-- #TemplateBeginEditable name="switchLink" -->







					<!--BeginSwitchLink--><!--EndSwitchLink-->







					<!-- #TemplateEndEditable -->	







				</td></tr></table>







			</td>







		</tr></table>







	</td>







	<td class="titleright" width="9"><img src="../images/top/right.png"></td>







</tr></table>







<div class="manual">







	<div class="main">















<!-- #TemplateBeginEditable name="unofficial translation" -->
<div id="unofficial_translation"><center><table border="1" ><tr><td  bgcolor="yellow"><center>このドキュメントは有志により翻訳されたもので、オフィシャルではありません。オリジナルのページは<a href="http://unity3d.com/support/documentation/" target="_blank">こちら</a>。<br>This document is unofficially translated by users.Please see the original document <a href="http://unity3d.com/support/documentation/" target="_blank">here</a>.<br><br>翻訳に関する修正など、ご連絡は<a href="mailto:stagesp1@gmail.com">こちら</a>まで。<br>Please send e-mail to <a href="mailto:stagesp1@gmail.com">here</a>, when you have any question about the translation.</center></td>
<!--<td><a href="toedit_proxy.php?url=<replace_here_with_url>"><img src="../Images/pencil.png"/></a><br/>編集</td>-->
</tr></table></center></div>
<!-- #TemplateEndEditable -->

<!-- #TemplateEndEditable -->



<!-- #TemplateEndEditable -->







<!-- #TemplateEndEditable -->







		<!-- #TemplateBeginEditable name="navigation" -->







		<div class="nav">







		<div class="nav-prev">







			<a href='../Components/SL-AlphaTest.html'>







				<div class="nav-left"></div>







				<div class="nav-main">Previous</div>







				<div class="nav-right"></div>







			</a>







		</div>







	







		<div class="nav-next">







			<a href='../Components/SL-PassTags.html'>







				<div class="nav-left"></div>







				<div class="nav-main">Next</div>







				<div class="nav-right"></div>







			</a>







		</div>







	</div>







		<!-- #TemplateEndEditable -->	







		<!-- #TemplateBeginEditable name="title" -->







			<h1>ShaderLab syntax: Blending</h1>







		<!-- #TemplateEndEditable -->	







		<!-- #TemplateBeginEditable name="body" -->







			







<p>Blending is used to make transparent objects.







</p>







<div class='vspace'></div><div><img class='figure' src='../Images/manual/SL-Blend-0.jpg' /></div>







<p class='vspace'>When graphics are rendered, after all shaders have executed and all textures have been applied, the pixels are written to the screen. How they are combined with what is already there is controlled by the Blend command.







</p>







<div class='vspace'></div><h2>Syntax</h2>







<dl><dt>Blend Off</dt><dd> Turn off blending







</dd><dt>Blend <em>SrcFactor</em> <em>DstFactor</em></dt><dd> Configure &amp; enable blending. The generated color is multiplied by the <b>SrcFactor</b>. The color already on screen is multiplied by <b>DstFactor</b> and the two are added together.







</dd></dl><div class='vspace'></div><h2>Properties</h2>







<p>All following properties are valid for both SrcFactor &amp; DstFactor. <b>Source</b> refers to the calculated color, <b>Destination</b> is the color already on the screen.







</p>







<div class='vspace'></div><table width='100%'><tr ><td  align='left'><b>One</b></td><td  align='left'>The value of one - use this to let either the source or the destination color come through fully.</td></tr>







<tr ><td  align='left'><b>Zero</b></td><td  align='left'>The value zero - use this to remove either the source or the destination values.</td></tr>







<tr ><td  align='left'><b>SrcColor</b></td><td  align='left'>The value of this stage is multiplied by the source color value.</td></tr>







<tr ><td  align='left'><b>SrcAlpha</b></td><td  align='left'>The value of this stage is multiplied by the source alpha value.</td></tr>







<tr ><td  align='left'><b>DstColor</b></td><td  align='left'>The value of this stage is multiplied by frame buffer source color value.</td></tr>







<tr ><td  align='left'><b>DstAlpha</b></td><td  align='left'>The value of this stage is multiplied by frame buffer source alpha value.</td></tr>







<tr ><td  align='left'><b>OneMinusSrcColor</b></td><td  align='left'>The value of this stage is multiplied by (1 - source color).</td></tr>







<tr ><td  align='left'><b>OneMinusSrcAlpha</b></td><td  align='left'>The value of this stage is multiplied by (1 - source alpha).</td></tr>







<tr ><td  align='left'><b>OneMinusDstColor</b></td><td  align='left'>The value of this stage is multiplied by (1 - destination color).</td></tr>







<tr ><td  align='left'><b>OneMinusDstAlpha</b></td><td  align='left'>The value of this stage is multiplied by (1 - destination alpha).</td></tr>







<tr ><td  align='left'><b>AppSrcAdd</b> and <b>AppDstAdd</b></td><td  align='left'>Use <code>Blend AppSrcAdd AppDstAdd</code> for most accumulative multi-pass effects. It turns off blending in the first pass, and uses additive blending in later rendering passes</td></tr>







</table>







<div class='vspace'></div><h2>Details</h2>







<p>Below are the most common blend types:







</p>







<div class='vspace'></div><pre class='codelisting'>







Blend SrcAlpha OneMinusSrcAlpha     // Alpha blending







Blend One One                       // Additive







Blend One OneMinusDstColor          // Soft Additive







Blend DstColor Zero                 // Multiplicative







Blend DstColor SrcColor             // 2x Multiplicative







</pre>







<div class='vspace'></div><h2>Example</h2>







<p>Here is a small example shader that adds a texture to whatever is on the screen already:







</p>







<div class='vspace'></div><pre class='codelisting'>Shader "Simple Additive" {







    Properties {







        _MainTex ("Texture to blend", 2D) = "black" {}







    }







    SubShader {







        Blend One One







        SetTexture [_MainTex] { combine texture }







    }







}</pre>







<p class='vspace'>And a more complex one, Glass. This is a two-pass shader:







</p><ol><li>The first pass renders a lit, alpha-blended texture on to the screen. The alpha channel decides the transparency.







</li><li>The second pass renders a reflection cubemap on top of the alpha-blended window, using additive transparency.







</li></ol><div class='vspace'></div><pre class='codelisting'>Shader "Glass" {







    Properties {







        _Color ("Main Color", Color) = (1,1,1,1)







        _MainTex ("Base (RGB) Transparency (A)", 2D) = "white" {}







        _Reflections ("Base (RGB) Gloss (A)", Cube) = "skybox" { TexGen CubeReflect }







    }







    SubShader {







        Pass {







            Tags {"Queue" = "Transparent" }







            Blend SrcAlpha OneMinusSrcAlpha







            Material {







                Diffuse [_Color]







            }







            Lighting On







            SetTexture [_MainTex] {







                combine texture * primary double, texture * primary







            }







        }







        Pass {







            Blend One One







            Material {







                Diffuse [_Color]







            }







            Lighting On







            SetTexture [_Reflections] {







                combine texture







                Matrix [_Reflection]







            }







        }







    }







} </pre>







</p><small>Page last updated: 2009-07-24</p>







    <script type="text/javascript">























    var allHTMLTags = new Array();







    document.divs = new Array();















    function getElementByClass(theClass) {















	    var allHTMLTags=document.getElementsByTagName("*");















	    for (var i=0; i<allHTMLTags.length; i++) {















		    if (allHTMLTags[i].className==theClass) {







			    return true;







		    }







	    }







	    return false;







    }















    function ShowHideDiv(containerName, className, content){







	var container = document.getElementById(containerName);







	if(container == null)







		return;







	if(content == '') {//In case there are no divs in the page we still can change the icons.







		if(containerName == 'desktopRef') {







			if(container.innerHTML == "<img src=\"../Images/DesktopNO.png\" alt=\"\">") {







				container.innerHTML = "<img src=\"../Images/DesktopYES.png\" alt=\"\">";







				SetCookie(containerName, 'set', 30);







			} else {







				container.innerHTML = "<img src=\"../Images/DesktopNO.png\" alt=\"\">";







				UnSetCookie(containerName);







			}







		}







		if(containerName == 'iosRef') {







			if(container.innerHTML == "<img src=\"../Images/iPhoneNO.png\" alt=\"\">") {







				container.innerHTML = "<img src=\"../Images/iPhoneYES.png\" alt=\"\">";







				SetCookie(containerName, 'set', 30);







			} else {







				container.innerHTML = "<img src=\"../Images/iPhoneNO.png\" alt=\"\">";







				UnSetCookie(containerName);







			}







		}







		if(containerName == 'androidRef') {







			if(container.innerHTML == "<img src=\"../Images/AndroidNO.png\" alt=\"\">") {







				container.innerHTML = "<img src=\"../Images/AndroidYES.png\" alt=\"\">";







				SetCookie(containerName, 'set', 30);







			} else {







				container.innerHTML = "<img src=\"../Images/AndroidNO.png\" alt=\"\">";







				UnSetCookie(containerName);







			}	







		}







	} else {







		if(container.innerHTML == "<h1><img src=\"../Images/PlatformArrowRight.png\" alt=\"\"> " + content + "</h1>") {







		container.innerHTML = "<h1><img src=\"../Images/PlatformArrowDown.png\" alt=\"\">" + content + "</h1>";







			SetCookie(containerName, 'set', 30);







		} else {







			container.innerHTML = "<h1><img src=\"../Images/PlatformArrowRight.png\" alt=\"\">" + content + "</h1>";







			UnSetCookie(containerName);







		}







	}







	for(var i = 0; i < document.divs.length; i++) {







		var divClassName = document.divs[i];







		var matched = false;







		if(divClassName.className == className)







			   matched = true;







		if(matched) {







			







			if(divClassName != null) {







				if (divClassName.style.display == 'block') {







					divClassName.style.display = 'none';







					if(content == '') {







						if(className == 'specific-desktop')







							container.innerHTML = "<img src=\"../Images/DesktopNO.png\" alt=\"\" />";







						if(className == 'specific-ios')







							container.innerHTML = "<img src=\"../Images/iPhoneNO.png\" alt=\"\" />";







						if(className == 'specific-android')







							container.innerHTML = "<img src=\"../Images/AndroidNO.png\" alt=\"\" />";







					} else {







						container.innerHTML = "<h1><img src=\"../Images/PlatformArrowRight.png\" alt=\"\" /> " + content + "</h1>";







					}







					UnSetCookie(containerName);







				} else {







					divClassName.style.display = 'block';







					if(content == '') {







						if(className == 'specific-desktop')







							container.innerHTML = "<img src=\"../Images/DesktopYES.png\" alt=\"\" />";







						if(className == 'specific-ios')







							container.innerHTML = "<img src=\"../Images/iPhoneYES.png\" alt=\"\" />";







						if(className == 'specific-android')







							container.innerHTML = "<img src=\"../Images/AndroidYES.png\" alt=\"\" />";







					} else {







						container.innerHTML = "<h1><img src=\"../Images/PlatformArrowDown.png\" alt=\"\" /> " + content + "</h1>";







					}







					SetCookie(containerName, 'set', 30);







				}







			}







		}	







        }			   







    }







    function UnSetCookie(cn) {







    	SetCookie(cn,'',30);







    }















    function GetCookie(cName) {







	if (document.cookie.length > 0) {







            cStart = document.cookie.indexOf(cName + "=");







	    if(cStart != -1) {







	        cStart = cStart + cName.length + 1;







	        cEnd = document.cookie.indexOf(";", cStart);







	        if (cEnd == -1) {







	            cEnd = document.cookie.length;







	        }







	        return unescape(document.cookie.substring(cStart, cEnd));;







	    }







	}







	return "";







    }















    function SetCookie(cName, value, expireDays) {







	var exDate = new Date();







	exDate.setDate(exDate.getDate()+expireDays);







	document.cookie = cName + "=" + escape(value) + ((expireDays ==null) ? "" : ";expires=" + exDate.toGMTString()) + ";path=/";







    }















    function DocLoaded() {







	document.divs = document.getElementsByTagName('div');







	var prefDesktop = GetCookie('desktopRef');







	var prefiOS = GetCookie('iosRef');







	var prefAndroid = GetCookie('androidRef');







	var firstTime = GetCookie('FT');







	if (firstTime == null || firstTime == "" ) {







	    SetCookie('FT', 'no', 30);







	    SetCookie('desktopRef', 'set', 30)







	} else if (prefDesktop == null || prefDesktop =="") {







	    if(getElementByClass('desktopRefIMG')) {







	        ShowHideDiv('desktopRef','specific-desktop','');







	    } else {







	        ShowHideDiv('desktopRef','specific-desktop','Desktop');







	    }







	}







	if (prefiOS == null || prefiOS =="") {







	    if(getElementByClass('iosRefIMG')) {







	        ShowHideDiv('iosRef','specific-ios','');







	    } else {







	        ShowHideDiv('iosRef','specific-ios','iOS');







	    }







	}







	if (prefAndroid == null || prefAndroid =="") {







	    if(getElementByClass('androidRefIMG')) {







	        ShowHideDiv('androidRef','specific-android','');







	    } else {







	        ShowHideDiv('androidRef','specific-android','Android');







	    }







	}	







    }







    </script>







    







		<!-- #TemplateEndEditable -->	















		<div class="nav">







		<div class="nav-prev">







			<a href='../Components/SL-AlphaTest.html'>







				<div class="nav-left"></div>







				<div class="nav-main">Previous</div>







				<div class="nav-right"></div>







			</a>







		</div>







	







		<div class="nav-next">







			<a href='../Components/SL-PassTags.html'>







				<div class="nav-left"></div>







				<div class="nav-main">Next</div>







				<div class="nav-right"></div>







			</a>







		</div>







	</div>







	</div>







</div>







</body></html>







<!-- #EndTemplate -->







