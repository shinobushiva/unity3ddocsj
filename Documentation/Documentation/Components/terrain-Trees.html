<!-- #BeginTemplate "/Templates/manual-page.dwt" --><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">







<html xmlns="http://www.w3.org/1999/xhtml">







<head>







<meta charset="utf-8">







	<!-- #TemplateBeginEditable name="doctitle" -->







		<title>Unity - Trees</title>







	<!-- #TemplateEndEditable -->







</head>







<link rel="StyleSheet"  href="../Images/docs.css" type="text/css" />







<body onLoad="DocLoaded();">







<table class="titlebar" cellpadding=0 cellspacing=0 border=0><tr>







	<td class="titleleft"><img src="../images/top/left.png"></td>







	<td><a href="../../Documentation.html"><img src="../images/top/logo.png"></a></td>







	<td class="titlemid">







		<table><tr>







			<td class="doctitle">Trees</td>







			<td><table align="right"><tr>







			<!-- #TemplateBeginEditable name="sections-nav" -->







			<td class="Components"><a href="../Manual/index.html" title="Go to Unity manual" class="scripting-anchor"><img src="../images/spacer.gif" class="manual" border="0"><span class="manual-text">Manual</span></a><span class="docs-navigation">&nbsp;&nbsp;&nbsp;&nbsp;</span></td>







			<td class="Components"><a href="../Components/index.html" title="Go to Reference" class="scripting-anchor"><img src="../images/spacer.gif" class="reference" border="0"><span class="components-text">Reference</span></a><span class="docs-navigation">&nbsp;&nbsp;&nbsp;&nbsp;</span></td>







			<td class="Components"><a href="../ScriptReference/index.html" title="Go to Scripting Reference" class="scripting-anchor"><img src="../images/spacer.gif" class="scripting" border="0"><span class="scripting-text">Scripting &nbsp;&nbsp;</span></a></td>







			<!-- #TemplateEndEditable -->	







			</tr></table></td>







		</tr><tr>







			<td colspan="4">







				<table width="100%" class="docpath"><tr><td >







		<!-- #TemplateBeginEditable name="path" -->







					<a href="../Components/index.html">Reference Manual</a> &gt; <a href="../Components/script-Terrain.html">Terrain Engine Guide</a> &gt; <a href="../Components/terrain-Trees.html">Trees</a>







		<!-- #TemplateEndEditable -->	







				</td>







				</td><td class="switchlink">







					<!-- #TemplateBeginEditable name="switchLink" -->







					<!--BeginSwitchLink--><!--EndSwitchLink-->







					<!-- #TemplateEndEditable -->	







				</td></tr></table>







			</td>







		</tr></table>







	</td>







	<td class="titleright" width="9"><img src="../images/top/right.png"></td>







</tr></table>







<div class="manual">







	<div class="main">















<!-- #TemplateBeginEditable name="unofficial translation" -->
<div id="unofficial_translation"><center><table border="1" ><tr><td  bgcolor="yellow"><center>このドキュメントは有志により翻訳されたもので、オフィシャルではありません。オリジナルのページは<a href="http://unity3d.com/support/documentation/" target="_blank">こちら</a>。<br>This document is unofficially translated by users.Please see the original document <a href="http://unity3d.com/support/documentation/" target="_blank">here</a>.<br><br>翻訳に関する修正など、ご連絡は<a href="mailto:stagesp1@gmail.com">こちら</a>まで。<br>Please send e-mail to <a href="mailto:stagesp1@gmail.com">here</a>, when you have any question about the translation.</center></td>
<!--<td><a href="toedit_proxy.php?url=<replace_here_with_url>"><img src="../Images/pencil.png"/></a><br/>編集</td>-->
</tr></table></center></div>
<!-- #TemplateEndEditable -->

<!-- #TemplateEndEditable -->



<!-- #TemplateEndEditable -->







<!-- #TemplateEndEditable -->







		<!-- #TemplateBeginEditable name="navigation" -->







		<div class="nav">







		<div class="nav-prev">







			<a href='../Components/terrain-Textures.html'>







				<div class="nav-left"></div>







				<div class="nav-main">Previous</div>







				<div class="nav-right"></div>







			</a>







		</div>







	







		<div class="nav-next">







			<a href='../Components/terrain-Grass.html'>







				<div class="nav-left"></div>







				<div class="nav-main">Next</div>







				<div class="nav-right"></div>







			</a>







		</div>







	</div>







		<!-- #TemplateEndEditable -->	







		<!-- #TemplateBeginEditable name="title" -->







			<h1>Trees</h1>







		<!-- #TemplateEndEditable -->	







		<!-- #TemplateBeginEditable name="body" -->







			







<a class='desktopRef' id='desktopRef' href="javascript:ShowHideDiv('desktopRef','specific-desktop','Desktop');"> <h1> <img class='figure' src='../Images/manual/terrain-Trees-0.jpg' /> Desktop </h1> </a>







<div class='specific-desktop' style='display: block;' id='specific-desktop' > 







<p>Unity's Terrain Engine has special support for Trees.  You can put thousands of trees onto a Terrain, and render them in-game with a practical frame rate.  This works by rendering trees near the camera in full 3D, and transitioning far-away trees to 2D billboards.  Billboards in the distance will automatically update to orient themselves correctly as they are viewed from different angles.  This transition system makes a detailed tree environment very simple for performance.  You have complete control over tweaking the parameters of the mesh-to-billboard transition so you can get the best performance you need.







</p>







<div class='vspace'></div><div><img class='figure' src='../Images/manual/terrain-Trees-1.jpg' /><br /><em>You can easily paint lots of trees for beautiful environments like this</em></div>







<div class='vspace'></div><h2>Adding Trees</h2>







<p>Select the <span class='doc-keyword'>Place Trees</span> button <img class='figure' src='../Images/manual/terrain-Trees-2.jpg' /> in the <span class='doc-keyword'>Inspector</span>.







</p>







<p class='vspace'>Before you can place trees on your terrain, you have to add them to the library of available trees.  To do this, click the <span class='doc-menu'>Edit Trees button-&gt;Add Tree</span>.  You'll see the <span class='doc-keyword'>Add Tree</span> dialog appear.







</p>







<div class='vspace'></div><div><img class='figure' src='../Images/manual/terrain-Trees-3.jpg' /><br /><em>The Add Tree dialog</em></div>







<p class='vspace'>Select the tree from your <span class='doc-keyword'>Project View</span> and drag it to the <span class='doc-prop'>Tree</span> variable.  You can also edit the <span class='doc-prop'>Bend Factor</span> if you want to add an additional bit of animated "bending in the wind" effect to the trees.  When you're ready, click <span class='doc-menu'>Add</span>.  The tree will now appear selected in the Inspector.







</p>







<div class='vspace'></div><div><img class='figure' src='../Images/manual/terrain-Trees-4.jpg' /><br /><em>The newly added tree appears selected in the Inspector</em></div>







<p class='vspace'>You can add as many trees as you like.  Each one will be selectable in the Inspector for you to place on your Terrain.







</p>







<div class='vspace'></div><div><img class='figure' src='../Images/manual/terrain-Trees-5.jpg' /><br /><em>The currently selected tree will always be highlighted in blue</em></div>







<div class='vspace'></div><h2>Painting Trees</h2>







<p>While still using the Place Trees tool, click anywhere on the Terrain to place your trees.  To erase trees, hold the <span class='doc-menu'>Shift</span> button and click on the Terrain.







</p>







<div class='vspace'></div><div><img class='figure' src='../Images/manual/terrain-Trees-6.jpg' /><br /><em>Painting trees is as easy as using a paintbrush tool</em></div>







<p class='vspace'>There are a number of options at your disposal when placing trees.







</p>







<div class='vspace'></div><table width='100%'><tr class='tableheader'><td  class='prop'></td><td class='function'></td></tr>







<tr ><td  align='left'><span class='doc-prop'>Brush Size</span></td><td  align='left'>Radius in meters of the tree placing brush.</td></tr>







<tr ><td  align='left'><span class='doc-prop'>Tree Spacing</span></td><td  align='left'>Percentage of tree width between trees.</td></tr>







<tr ><td  align='left'><span class='doc-prop'>Color Variation</span></td><td  align='left'>Allowed amount of color difference between each tree.</td></tr>







<tr ><td  align='left'><span class='doc-prop'>Tree Height</span></td><td  align='left'>Height adjustment of each tree compared to the asset.</td></tr>







<tr ><td  align='left'><span class='doc-prop'>Height Variation</span></td><td  align='left'>Allowed amount of difference in height between each tree.</td></tr>







<tr ><td  align='left'><span class='doc-prop'>Tree Width</span></td><td  align='left'>Width adjustment of each tree compared to the asset.</td></tr>







<tr ><td  align='left'><span class='doc-prop'>Width Variation</span></td><td  align='left'>Allowed amount of difference in width between each tree.</td></tr>







</table>







<div class='vspace'></div><h3>Tree Painting Tips</h3>







<div><img class='figure' src='../Images/manual/terrain-Trees-7.jpg' /><br /><em>Different Brush sizes cover different area sizes</em></div>







<div class='vspace'></div><div><img class='figure' src='../Images/manual/terrain-Trees-8.jpg' /><br /><em>Adjust <span class='doc-prop'>Tree Spacing</span> to change the density of the trees you're painting</em></div>







<div class='vspace'></div><h2>Editing Trees</h2>







<p>To change any import parameters for an added tree, select the detail and choose <span class='doc-menu'>Edit Trees button-&gt;Edit Detail</span>.  Or double-click the tree you want to edit.  You will then see the <span class='doc-keyword'>Edit Tree</span> dialog, and you can change any of the settings.







</p>







<div class='vspace'></div><h2>Mass Placement</h2>







<p>If you don't want to paint your trees and you just want a whole forest created, you can use <span class='doc-menu'>Terrain-&gt;Mass Place Trees</span>.  Here, you will see the <span class='doc-keyword'>Mass Place Trees</span> dialog.  You can set the number of trees you want placed, and they'll be instantly positioned.  All the trees added to your Terrain will be used in this mass placement.







</p>







<div class='vspace'></div><div><img class='figure' src='../Images/manual/terrain-Trees-9.jpg' /><br /><em>10,000 Trees placed at once</em></div>







<div class='vspace'></div><h2>Refreshing Source Assets</h2>







<p>If you make any updates to your tree asset source file, it must be manually re-imported into the Terrain.  To do this, use <span class='doc-menu'>Terrain-&gt;Refresh Tree and Detail Prototypes</span>.  This is done after you've changed your source asset and saved it, and will refresh the trees in your Terrain immediately.







</p>







<div class='vspace'></div><h2>Creating Trees</h2>







<p>Trees can be created in two ways to the terrain engine:







</p>







<p class='vspace'>The first one is by using the <a href="../Components/class-Tree.html">Tree creator</a> that Unity comes with, and the second one is by using a 3rd party modeling program compatible with Unity, in this case every tree should consist of a single mesh with two <span class='doc-keyword'>Materials</span>. One for the trunk and one for the leaves. 







</p>







<p class='vspace'>For performance reasons, triangle count should be kept below 2000 for an average tree. The fewer triangles the better.  The pivot point of the tree mesh must be exactly at the root of the tree, that is at the point where the tree should meet the surface it is placed on. This makes it the easiest to import into Unity and other modelling applications.







</p>







<p class='vspace'>Trees must use the <span class='doc-prop'>Nature/Soft Occlusion Leaves</span> and <span class='doc-prop'>Nature/Soft Occlusion Bark shader</span>.  In order to use those shaders you also have to place the tree in a special folder that contains the name "Ambient-Occlusion". When you place a model in that folder and reimport it, Unity will calculate soft ambient occlusion specialized for trees. The "Nature/Soft Occlusion" shaders need this information. If you don't follow the naming conventions the tree will look weird with completely black parts.







</p>







<p class='vspace'>Unity also ships with several high quality trees in the "Terrain Demo.unitypackage". You can use those trees readily in your game. 







</p>







<div class='vspace'></div><h2>Using Low Poly Trees</h2>







<div><img class='figure' src='../Images/manual/terrain-Trees-10.jpg' /></div>







<p class='vspace'>One branch with leaves is done with only six triangles and shows quite a bit of curvature. You can add more triangles for even more curvature. But the main point is: When making trees, work with triangles not with quads. If you use quads you basically need twice as many triangles to get the same curvature on branches.







</p>







<p class='vspace'>The tree itself wastes a lot of fillrate by having large polygons but almost everything is invisible due to the alpha. This should be avoided for performance reasons and of course because the goal is to make dense trees. This is one of the things that makes Oblivion's trees look great. They are so dense you cant even see through the leaves.







</p>







<div class='vspace'></div><h2>Setting up Tree Collisions</h2>







<p>If you'd like your trees to make use of colliders, it's very easy.  When you've imported your Tree asset file, all you need to do is instantiate it in the Scene View, add a <span class='doc-keyword'>Capsule Collider</span> and tweak it, and make the GameObject into a new Prefab.  Then when you're adding trees to your Terrain, you add the tree Prefab with the Capsule Collider attached. You can only use Capsule Colliders when adding collisions with trees.







</p>







<div class='vspace'></div><h2>Making your Trees Collide.</h2>







<div><img class='figure' src='../Images/manual/terrain-Trees-11.jpg' /><br /><em>Terrain Collider Inspector</em></div>







<p class='vspace'>If you want to make your trees collide with rigid bodies, make sure you you check the <em>Create Tree Colliders</em> box. else your objects will go trough the trees you create.







</p></div>







<a class='iosRef' id='iosRef' href="javascript:ShowHideDiv('iosRef','specific-ios', 'iOS');"><h1><img class='figure' src='../Images/manual/terrain-Trees-12.jpg' /> iOS</h1></a>







<div class='specific-ios' style='display: block;' id='specific-ios' > 







<p>This feature is currently not available for iOS targets.







</p></div>







<a class='androidRef' id='androidRef' href="javascript:ShowHideDiv('androidRef','specific-android', 'Android');"><h1><img class='figure' src='../Images/manual/terrain-Trees-13.jpg' /> Android</h1></a>







<div class='specific-android' style='display: block;' id='specific-android' > 







<p>This feature is currently not available for Android targets.







</p></div>







</p><small>Page last updated: 2010-09-25</p>







    <script type="text/javascript">























    var allHTMLTags = new Array();







    document.divs = new Array();















    function getElementByClass(theClass) {















	    var allHTMLTags=document.getElementsByTagName("*");















	    for (var i=0; i<allHTMLTags.length; i++) {















		    if (allHTMLTags[i].className==theClass) {







			    return true;







		    }







	    }







	    return false;







    }















    function ShowHideDiv(containerName, className, content){







	var container = document.getElementById(containerName);







	if(container == null)







		return;







	if(content == '') {//In case there are no divs in the page we still can change the icons.







		if(containerName == 'desktopRef') {







			if(container.innerHTML == "<img src=\"../Images/DesktopNO.png\" alt=\"\">") {







				container.innerHTML = "<img src=\"../Images/DesktopYES.png\" alt=\"\">";







				SetCookie(containerName, 'set', 30);







			} else {







				container.innerHTML = "<img src=\"../Images/DesktopNO.png\" alt=\"\">";







				UnSetCookie(containerName);







			}







		}







		if(containerName == 'iosRef') {







			if(container.innerHTML == "<img src=\"../Images/iPhoneNO.png\" alt=\"\">") {







				container.innerHTML = "<img src=\"../Images/iPhoneYES.png\" alt=\"\">";







				SetCookie(containerName, 'set', 30);







			} else {







				container.innerHTML = "<img src=\"../Images/iPhoneNO.png\" alt=\"\">";







				UnSetCookie(containerName);







			}







		}







		if(containerName == 'androidRef') {







			if(container.innerHTML == "<img src=\"../Images/AndroidNO.png\" alt=\"\">") {







				container.innerHTML = "<img src=\"../Images/AndroidYES.png\" alt=\"\">";







				SetCookie(containerName, 'set', 30);







			} else {







				container.innerHTML = "<img src=\"../Images/AndroidNO.png\" alt=\"\">";







				UnSetCookie(containerName);







			}	







		}







	} else {







		if(container.innerHTML == "<h1><img src=\"../Images/PlatformArrowRight.png\" alt=\"\"> " + content + "</h1>") {







		container.innerHTML = "<h1><img src=\"../Images/PlatformArrowDown.png\" alt=\"\">" + content + "</h1>";







			SetCookie(containerName, 'set', 30);







		} else {







			container.innerHTML = "<h1><img src=\"../Images/PlatformArrowRight.png\" alt=\"\">" + content + "</h1>";







			UnSetCookie(containerName);







		}







	}







	for(var i = 0; i < document.divs.length; i++) {







		var divClassName = document.divs[i];







		var matched = false;







		if(divClassName.className == className)







			   matched = true;







		if(matched) {







			







			if(divClassName != null) {







				if (divClassName.style.display == 'block') {







					divClassName.style.display = 'none';







					if(content == '') {







						if(className == 'specific-desktop')







							container.innerHTML = "<img src=\"../Images/DesktopNO.png\" alt=\"\" />";







						if(className == 'specific-ios')







							container.innerHTML = "<img src=\"../Images/iPhoneNO.png\" alt=\"\" />";







						if(className == 'specific-android')







							container.innerHTML = "<img src=\"../Images/AndroidNO.png\" alt=\"\" />";







					} else {







						container.innerHTML = "<h1><img src=\"../Images/PlatformArrowRight.png\" alt=\"\" /> " + content + "</h1>";







					}







					UnSetCookie(containerName);







				} else {







					divClassName.style.display = 'block';







					if(content == '') {







						if(className == 'specific-desktop')







							container.innerHTML = "<img src=\"../Images/DesktopYES.png\" alt=\"\" />";







						if(className == 'specific-ios')







							container.innerHTML = "<img src=\"../Images/iPhoneYES.png\" alt=\"\" />";







						if(className == 'specific-android')







							container.innerHTML = "<img src=\"../Images/AndroidYES.png\" alt=\"\" />";







					} else {







						container.innerHTML = "<h1><img src=\"../Images/PlatformArrowDown.png\" alt=\"\" /> " + content + "</h1>";







					}







					SetCookie(containerName, 'set', 30);







				}







			}







		}	







        }			   







    }







    function UnSetCookie(cn) {







    	SetCookie(cn,'',30);







    }















    function GetCookie(cName) {







	if (document.cookie.length > 0) {







            cStart = document.cookie.indexOf(cName + "=");







	    if(cStart != -1) {







	        cStart = cStart + cName.length + 1;







	        cEnd = document.cookie.indexOf(";", cStart);







	        if (cEnd == -1) {







	            cEnd = document.cookie.length;







	        }







	        return unescape(document.cookie.substring(cStart, cEnd));;







	    }







	}







	return "";







    }















    function SetCookie(cName, value, expireDays) {







	var exDate = new Date();







	exDate.setDate(exDate.getDate()+expireDays);







	document.cookie = cName + "=" + escape(value) + ((expireDays ==null) ? "" : ";expires=" + exDate.toGMTString()) + ";path=/";







    }















    function DocLoaded() {







	document.divs = document.getElementsByTagName('div');







	var prefDesktop = GetCookie('desktopRef');







	var prefiOS = GetCookie('iosRef');







	var prefAndroid = GetCookie('androidRef');







	var firstTime = GetCookie('FT');







	if (firstTime == null || firstTime == "" ) {







	    SetCookie('FT', 'no', 30);







	    SetCookie('desktopRef', 'set', 30)







	} else if (prefDesktop == null || prefDesktop =="") {







	    if(getElementByClass('desktopRefIMG')) {







	        ShowHideDiv('desktopRef','specific-desktop','');







	    } else {







	        ShowHideDiv('desktopRef','specific-desktop','Desktop');







	    }







	}







	if (prefiOS == null || prefiOS =="") {







	    if(getElementByClass('iosRefIMG')) {







	        ShowHideDiv('iosRef','specific-ios','');







	    } else {







	        ShowHideDiv('iosRef','specific-ios','iOS');







	    }







	}







	if (prefAndroid == null || prefAndroid =="") {







	    if(getElementByClass('androidRefIMG')) {







	        ShowHideDiv('androidRef','specific-android','');







	    } else {







	        ShowHideDiv('androidRef','specific-android','Android');







	    }







	}	







    }







    </script>







    







		<!-- #TemplateEndEditable -->	















		<div class="nav">







		<div class="nav-prev">







			<a href='../Components/terrain-Textures.html'>







				<div class="nav-left"></div>







				<div class="nav-main">Previous</div>







				<div class="nav-right"></div>







			</a>







		</div>







	







		<div class="nav-next">







			<a href='../Components/terrain-Grass.html'>







				<div class="nav-left"></div>







				<div class="nav-main">Next</div>







				<div class="nav-right"></div>







			</a>







		</div>







	</div>







	</div>







</div>







</body></html>







<!-- #EndTemplate -->







