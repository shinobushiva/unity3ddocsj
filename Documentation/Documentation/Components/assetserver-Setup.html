<!-- #BeginTemplate "/Templates/manual-page.dwt" --><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">







<html xmlns="http://www.w3.org/1999/xhtml">







<head>







<meta charset="utf-8">







	<!-- #TemplateBeginEditable name="doctitle" -->







		<title>Unity - Setting up the Asset Server</title>







	<!-- #TemplateEndEditable -->







</head>







<link rel="StyleSheet"  href="../Images/docs.css" type="text/css" />







<body onLoad="DocLoaded();">







<table class="titlebar" cellpadding=0 cellspacing=0 border=0><tr>







	<td class="titleleft"><img src="../images/top/left.png"></td>







	<td><a href="../../Documentation.html"><img src="../images/top/logo.png"></a></td>







	<td class="titlemid">







		<table><tr>







			<td class="doctitle">Setting up the Asset Server</td>







			<td><table align="right"><tr>







			<!-- #TemplateBeginEditable name="sections-nav" -->







			<td class="Components"><a href="../Manual/index.html" title="Go to Unity manual" class="scripting-anchor"><img src="../images/spacer.gif" class="manual" border="0"><span class="manual-text">Manual</span></a><span class="docs-navigation">&nbsp;&nbsp;&nbsp;&nbsp;</span></td>







			<td class="Components"><a href="../Components/index.html" title="Go to Reference" class="scripting-anchor"><img src="../images/spacer.gif" class="reference" border="0"><span class="components-text">Reference</span></a><span class="docs-navigation">&nbsp;&nbsp;&nbsp;&nbsp;</span></td>







			<td class="Components"><a href="../ScriptReference/index.html" title="Go to Scripting Reference" class="scripting-anchor"><img src="../images/spacer.gif" class="scripting" border="0"><span class="scripting-text">Scripting &nbsp;&nbsp;</span></a></td>







			<!-- #TemplateEndEditable -->	







			</tr></table></td>







		</tr><tr>







			<td colspan="4">







				<table width="100%" class="docpath"><tr><td >







		<!-- #TemplateBeginEditable name="path" -->







					<a href="../Components/index.html">Reference Manual</a> &gt; <a href="../Components/Asset Server Guide.html">Asset Server Guide</a> &gt; <a href="../Components/assetserver-Setup.html">Setting up the Asset Server</a>







		<!-- #TemplateEndEditable -->	







				</td>







				</td><td class="switchlink">







					<!-- #TemplateBeginEditable name="switchLink" -->







					<!--BeginSwitchLink--><!--EndSwitchLink-->







					<!-- #TemplateEndEditable -->	







				</td></tr></table>







			</td>







		</tr></table>







	</td>







	<td class="titleright" width="9"><img src="../images/top/right.png"></td>







</tr></table>







<div class="manual">







	<div class="main">















<!-- #TemplateBeginEditable name="unofficial translation" -->
<div id="unofficial_translation"><center><table border="1" ><tr><td  bgcolor="yellow"><center>このドキュメントは有志により翻訳されたもので、オフィシャルではありません。オリジナルのページは<a href="http://unity3d.com/support/documentation/" target="_blank">こちら</a>。<br>This document is unofficially translated by users.Please see the original document <a href="http://unity3d.com/support/documentation/" target="_blank">here</a>.<br><br>翻訳に関する修正など、ご連絡は<a href="mailto:stagesp1@gmail.com">こちら</a>まで。<br>Please send e-mail to <a href="mailto:stagesp1@gmail.com">here</a>, when you have any question about the translation.</center></td>
<!--<td><a href="toedit_proxy.php?url=<replace_here_with_url>"><img src="../Images/pencil.png"/></a><br/>編集</td>-->
</tr></table></center></div>
<!-- #TemplateEndEditable -->

<!-- #TemplateEndEditable -->



<!-- #TemplateEndEditable -->







<!-- #TemplateEndEditable -->







		<!-- #TemplateBeginEditable name="navigation" -->







		<div class="nav">







		<div class="nav-prev">







			<a href='../Components/Asset Server Guide.html'>







				<div class="nav-left"></div>







				<div class="nav-main">Previous</div>







				<div class="nav-right"></div>







			</a>







		</div>







	







		<div class="nav-next">







			<a href='../Components/assetserver-DailyUse.html'>







				<div class="nav-left"></div>







				<div class="nav-main">Next</div>







				<div class="nav-right"></div>







			</a>







		</div>







	</div>







		<!-- #TemplateEndEditable -->	







		<!-- #TemplateBeginEditable name="title" -->







			<h1>Setting up the Asset Server</h1>







		<!-- #TemplateEndEditable -->	







		<!-- #TemplateBeginEditable name="body" -->







			







<h2>Server-side Installation</h2>







<p>The Asset Server is designed to be a simple one-time installation on a server machine.  Interacting with the Asset Server is done through Unity.  Unity can be installed on the server machine, but it does not need to be. It must be administrated from a Client machine, where Projects and Users can be added. Each additional client must be configured to synchronize with a Project, using a specific User credential.







</p>







<p class='vspace'>You can install the Asset Server on Mac OS X 10.4 or later, Windows XP, Windows Vista and various Linux distributions including CentOS, Ubuntu and Suse Linux.







<a class='urllink' href='http://www.unity3d.com/asset-server' rel='nofollow'>Download Unity Asset Server</a> from here.







</p>







<p class='vspace'>The installer will install all necessary files, setup a database and launch the Asset Server. At the end of the process you will be asked to create an <span class='doc-keyword'>Admin password</span>. This password is required to administer the Asset Server from within Unity.  You must connect to the Asset Server as the administrator before you can create any projects or users.







</p>







<div class='vspace'></div><h2>Administrating the Asset Server</h2>







<p>The Asset Server allows any number of <span class='doc-keyword'>Users</span> to connect to a <span class='doc-keyword'>Project</span>.  The Administrator must first connect to the Server with Unity as a client and create new Projects and Users.







</p>







<p class='vspace'>To access the Administrator controls, launch Unity and select <span class='doc-menu'>Window-&gt;Asset Server</span>, then click the <span class='doc-menu'>Administration</span> button.







</p>







<div class='vspace'></div><div><img class='figure' src='../Images/manual/assetserver-Setup-0.jpg' /><br /><em>The <span class='doc-keyword'>Administration</span> tab</em></div>







<p class='vspace'>In the <span class='doc-prop'>Server Address</span> field, enter either the <span class='doc-keyword'>ip address</span> or <span class='doc-keyword'>host name</span> of the computer running the Asset Server that you want to administer.  If the Asset Server is installed on your local machine, you can use "localhost" as the <span class='doc-prop'>Server Address</span>. Next, provide the administrator name and password. The administrator name is always "admin", and the password is what was entered when installing the Asset Server. Finally, hit the <span class='doc-menu'>Connect</span> button.  You're now connected to the Asset Server, and can perform the initial setup.







</p>







<div class='vspace'></div><h3>Managing Projects and Users</h3>







<p>Each Server can contain several Projects, and each User can have permission to one or more Projects.  Projects are generally orthogonal, and unique in asset collections.  It is best to think "one Project equals one game".







</p>







<p class='vspace'>New Projects can be created by clicking on the <span class='doc-menu'>Create</span> button in the <span class='doc-keyword'>Server Administration</span> tab. 







</p>







<div class='vspace'></div><div><img class='figure' src='../Images/manual/assetserver-Setup-1.jpg' /><br /><em>Click Create, then enter a name for the new project</em></div>







<p class='vspace'>New users can be created by first selecting an existing project and then clicking on the <span class='doc-menu'>New User</span> button. 







</p>







<div class='vspace'></div><div><img class='figure' src='../Images/manual/assetserver-Setup-2.jpg' /><br /><em>Creating a new user</em></div>







<p class='vspace'>After a user has been created in one Project, the user can be added to another project by enabling the checkbox on the left of the user name in the users list.







</p>







<p class='vspace'>You can enable or disable user access for individual projects. 







To completely remove a project or user from the server use the <span class='doc-menu'>Delete Project</span> and <span class='doc-menu'>Delete User</span> buttons.







</p>







<div class='vspace'></div><h3>Firewall settings</h3>







<p>The Unity Asset Server uses TCP port <span class='doc-keyword'>10733</span>. You might need to enable connections to this port in your firewall and/or router.







</p>







<div class='vspace'></div><h2>Advanced</h2>







<p>The Asset Server is built using a modified version of PostgreSQL.  Accessing the SQL database directly requires a bit of technical knowledge about SQL and Unix/Linux command lines.  User discretion is advised.







</p>







<div class='vspace'></div><h3>Backing up</h3>







<p>We have provided a command line tool to back up an asset server. The tool should be run from an administrator account on the machine running the asset server. Replace BACKUP_LOCATION with the path name you want the backup tool to place the backups:







</p>







<p class='vspace'>Mac OS X<br /><code>sudo /Library/UnityAssetServer/bin/as_backup </code> BACKUP_LOCATION







</p>







<p class='vspace'>Linux<br /><code>sudo /opt/unity_asset_server/bin/as_backup  </code> BACKUP_LOCATION







</p>







<p class='vspace'>Windows<br /><code>"<span class='ProgramFiles'>\Unity\AssetServer\bin\as_backup.cmd" </code> BACKUP_LOCATION</span>







</p>







<p class='vspace'>as_backup will create a directory at BACKUP_LOCATION containing one or more files per project plus files containing information about each project and a backup of all users and their passwords.







</p>







<div class='vspace'></div><h3>Restoring a Backup</h3>







<p>To restore an Asset Server backup produced with as_backup, first perform a clean installation of the Asset Server without any projects created. (The restore procedure will refuse to overwrite already existing projects with the same name.) 







</p>







<p class='vspace'>Then run the provided backup restoration tool, <code>as_restore</code> pointing it to the location of a backup created with as_backup:







</p>







<p class='vspace'>Mac OS X<br /><code>sudo /Library/UnityAssetServer/bin/as_restore </code> BACKUP_LOCATION







</p>







<p class='vspace'>Linux<br /><code>sudo /opt/unity_asset_server/bin/as_restore </code> BACKUP_LOCATION







</p>







<p class='vspace'>Windows<br /><code>"<span class='ProgramFiles'>\Unity\AssetServer\bin\as_restore.cmd" </code> BACKUP_LOCATION</span>







</p>







<p class='vspace'>Note that you can also use as_backup and as_restore to move an asset server installation from one machine to another by performing the backup on the source machine, moving the backup directory to the destination machine (or mount it through a network file share,) and then running as_restore to insert the data into the newly installed Asset Server instance. This will even work when the source and destination Asset Servers have different versions or are running on different operating systems.







</p>







<div class='vspace'></div><h3>Locating the database name of an Asset Server Project</h3>







<p>To view the tables in a Project database, first you need to figure out the name of the actual database. Run this command line command on the machine hosting the Asset Server:







</p>







<p class='vspace'>Mac OS X<br /><code>/Library/UnityAssetServer/bin/psql -U admin -h localhost -d postgres -c 'select * from all_databases__view'</code>







</p>







<p class='vspace'>Linux<br /><code>/opt/unity_asset_server/bin/psql -U admin -h localhost -d postgres -c 'select * from all_databases__view'</code>







</p>







<p class='vspace'>Windows<br /><code>"<span class='ProgramFiles'>\Unity\AssetServer\bin\psql.exe" -U admin -h localhost -d postgres -c "select * from all_databases__view"</code></span>







</p>







<p class='vspace'>This and other commands will prompt you for a password.  Every time this happens, enter the admin password for the database, which was set during the installation.  The result will be a table that follows this basic layout:







</p>







<div class='vspace'></div><pre class='codelisting'>







    databasename    |    projectname     |       description        | version 







--------------------+--------------------+--------------------------+---------







 sandbox            | Sandbox            | Created with Unity 2.0.0 | 1.0







 game               | Game               | Created with Unity 2.0.0 | 1.0







 my_game_project    | My Game Project    | Created with Unity 2.0.0 | 1.0







(3 rows)







</pre>







<p class='vspace'>Now you need to identify the "databasename" of the Project you want to back up. When creating a database, the default "databasename" is same as the "projectname" as shown inside Unity, but in lowercase and spaces replaced with underscores.







</p>







<p class='vspace'>Note that if your server hosts multiple PostgreSQL databases on different ports you nay need to explicitly provide the port used to connect to the Asset Server database.  In this case add -p 10733 to the commands given (assuming you have used the default port of 10733 for your instance.)  For example:







</p>







<p class='vspace'>Linux<br /><code>/opt/unity_asset_server/bin/psql -U admin -h localhost -d postgres -c 'select * from all_databases__view' -p 10733</code>







</p>







<div class='vspace'></div><h3>Additional SQL Functions</h3>







<p>These and all other commands use tools from the PostgreSQL distribution. You can read more about these tools here: <a class='urllink' href='http://www.postgresql.org/docs/8.3/interactive/reference-client.html' rel='nofollow'>http://www.postgresql.org/docs/8.3/interactive/reference-client.html</a>







</p>







</p><small>Page last updated: 2009-09-22</p>







    <script type="text/javascript">























    var allHTMLTags = new Array();







    document.divs = new Array();















    function getElementByClass(theClass) {















	    var allHTMLTags=document.getElementsByTagName("*");















	    for (var i=0; i<allHTMLTags.length; i++) {















		    if (allHTMLTags[i].className==theClass) {







			    return true;







		    }







	    }







	    return false;







    }















    function ShowHideDiv(containerName, className, content){







	var container = document.getElementById(containerName);







	if(container == null)







		return;







	if(content == '') {//In case there are no divs in the page we still can change the icons.







		if(containerName == 'desktopRef') {







			if(container.innerHTML == "<img src=\"../Images/DesktopNO.png\" alt=\"\">") {







				container.innerHTML = "<img src=\"../Images/DesktopYES.png\" alt=\"\">";







				SetCookie(containerName, 'set', 30);







			} else {







				container.innerHTML = "<img src=\"../Images/DesktopNO.png\" alt=\"\">";







				UnSetCookie(containerName);







			}







		}







		if(containerName == 'iosRef') {







			if(container.innerHTML == "<img src=\"../Images/iPhoneNO.png\" alt=\"\">") {







				container.innerHTML = "<img src=\"../Images/iPhoneYES.png\" alt=\"\">";







				SetCookie(containerName, 'set', 30);







			} else {







				container.innerHTML = "<img src=\"../Images/iPhoneNO.png\" alt=\"\">";







				UnSetCookie(containerName);







			}







		}







		if(containerName == 'androidRef') {







			if(container.innerHTML == "<img src=\"../Images/AndroidNO.png\" alt=\"\">") {







				container.innerHTML = "<img src=\"../Images/AndroidYES.png\" alt=\"\">";







				SetCookie(containerName, 'set', 30);







			} else {







				container.innerHTML = "<img src=\"../Images/AndroidNO.png\" alt=\"\">";







				UnSetCookie(containerName);







			}	







		}







	} else {







		if(container.innerHTML == "<h1><img src=\"../Images/PlatformArrowRight.png\" alt=\"\"> " + content + "</h1>") {







		container.innerHTML = "<h1><img src=\"../Images/PlatformArrowDown.png\" alt=\"\">" + content + "</h1>";







			SetCookie(containerName, 'set', 30);







		} else {







			container.innerHTML = "<h1><img src=\"../Images/PlatformArrowRight.png\" alt=\"\">" + content + "</h1>";







			UnSetCookie(containerName);







		}







	}







	for(var i = 0; i < document.divs.length; i++) {







		var divClassName = document.divs[i];







		var matched = false;







		if(divClassName.className == className)







			   matched = true;







		if(matched) {







			







			if(divClassName != null) {







				if (divClassName.style.display == 'block') {







					divClassName.style.display = 'none';







					if(content == '') {







						if(className == 'specific-desktop')







							container.innerHTML = "<img src=\"../Images/DesktopNO.png\" alt=\"\" />";







						if(className == 'specific-ios')







							container.innerHTML = "<img src=\"../Images/iPhoneNO.png\" alt=\"\" />";







						if(className == 'specific-android')







							container.innerHTML = "<img src=\"../Images/AndroidNO.png\" alt=\"\" />";







					} else {







						container.innerHTML = "<h1><img src=\"../Images/PlatformArrowRight.png\" alt=\"\" /> " + content + "</h1>";







					}







					UnSetCookie(containerName);







				} else {







					divClassName.style.display = 'block';







					if(content == '') {







						if(className == 'specific-desktop')







							container.innerHTML = "<img src=\"../Images/DesktopYES.png\" alt=\"\" />";







						if(className == 'specific-ios')







							container.innerHTML = "<img src=\"../Images/iPhoneYES.png\" alt=\"\" />";







						if(className == 'specific-android')







							container.innerHTML = "<img src=\"../Images/AndroidYES.png\" alt=\"\" />";







					} else {







						container.innerHTML = "<h1><img src=\"../Images/PlatformArrowDown.png\" alt=\"\" /> " + content + "</h1>";







					}







					SetCookie(containerName, 'set', 30);







				}







			}







		}	







        }			   







    }







    function UnSetCookie(cn) {







    	SetCookie(cn,'',30);







    }















    function GetCookie(cName) {







	if (document.cookie.length > 0) {







            cStart = document.cookie.indexOf(cName + "=");







	    if(cStart != -1) {







	        cStart = cStart + cName.length + 1;







	        cEnd = document.cookie.indexOf(";", cStart);







	        if (cEnd == -1) {







	            cEnd = document.cookie.length;







	        }







	        return unescape(document.cookie.substring(cStart, cEnd));;







	    }







	}







	return "";







    }















    function SetCookie(cName, value, expireDays) {







	var exDate = new Date();







	exDate.setDate(exDate.getDate()+expireDays);







	document.cookie = cName + "=" + escape(value) + ((expireDays ==null) ? "" : ";expires=" + exDate.toGMTString()) + ";path=/";







    }















    function DocLoaded() {







	document.divs = document.getElementsByTagName('div');







	var prefDesktop = GetCookie('desktopRef');







	var prefiOS = GetCookie('iosRef');







	var prefAndroid = GetCookie('androidRef');







	var firstTime = GetCookie('FT');







	if (firstTime == null || firstTime == "" ) {







	    SetCookie('FT', 'no', 30);







	    SetCookie('desktopRef', 'set', 30)







	} else if (prefDesktop == null || prefDesktop =="") {







	    if(getElementByClass('desktopRefIMG')) {







	        ShowHideDiv('desktopRef','specific-desktop','');







	    } else {







	        ShowHideDiv('desktopRef','specific-desktop','Desktop');







	    }







	}







	if (prefiOS == null || prefiOS =="") {







	    if(getElementByClass('iosRefIMG')) {







	        ShowHideDiv('iosRef','specific-ios','');







	    } else {







	        ShowHideDiv('iosRef','specific-ios','iOS');







	    }







	}







	if (prefAndroid == null || prefAndroid =="") {







	    if(getElementByClass('androidRefIMG')) {







	        ShowHideDiv('androidRef','specific-android','');







	    } else {







	        ShowHideDiv('androidRef','specific-android','Android');







	    }







	}	







    }







    </script>







    







		<!-- #TemplateEndEditable -->	















		<div class="nav">







		<div class="nav-prev">







			<a href='../Components/Asset Server Guide.html'>







				<div class="nav-left"></div>







				<div class="nav-main">Previous</div>







				<div class="nav-right"></div>







			</a>







		</div>







	







		<div class="nav-next">







			<a href='../Components/assetserver-DailyUse.html'>







				<div class="nav-left"></div>







				<div class="nav-main">Next</div>







				<div class="nav-right"></div>







			</a>







		</div>







	</div>







	</div>







</div>







</body></html>







<!-- #EndTemplate -->







