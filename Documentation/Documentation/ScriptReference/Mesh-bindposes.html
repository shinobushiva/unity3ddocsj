<!-- #BeginTemplate "/Templates/manual-scriptref-page.dwt" --><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">

	<!-- #TemplateBeginEditable name="doctitle" -->

			<title>Unity Script Reference &ndash; Mesh.bindposes</title>

	<!-- #TemplateEndEditable -->

<link rel="StyleSheet"  href="docs.css" type="text/css" />

<script type="text/javascript" src="../Images/jquery-1.4.2.js"></script>

<script type="text/javascript" src="../Images/jquery.cookie.js"></script>



<style>

/* 

Unity standard fonts 

*/

body{ font-family:Helvetica, Arial, sans-serif; font-size:.9em; }



/*

simple format for code, using fixed width

and a nice border

*/

pre { font-family:"Courier New", Courier, monospace; font-size:.8em; }

pre { padding:10px; margin:10px; border:1px #d8d8d8 solid; }

pre { -moz-border-radius:10px; -webkit-border-radius:10px; }

pre { background:#f8f8f8; }



/*

aligns the selection dialog on the top right

*/

.selectLang { margin-right:10px; text-align:right; float:right; }





.cSelect,

.cSelect ul,

.cSelect li { font-size:12px; }



/*.cSelect { border:1px solid #d0d0d0; }

.cSelect { background:#ddf; }*/

/*

.cSelect { -moz-border-radius:10px; -webkit-border-radius:10px; }*/



.cSelect { display:inline-block; position:relative; float:right; margin-right:20px;}

.cSelect { padding-top:.4em; padding-bottom:.2em;}

.cSelect-Selected,

.cSelect-ArrowDown,

.cSelect li { cursor:pointer; }



.cSelect,

.roundTop { -webkit-border-top-left-radius:10px; -webkit-border-top-right-radius:10px; }

.cSelect,

.roundTop { -moz-border-radius-topleft:10px; -moz-border-radius-topright:10px; }



.roundBottom,

.cSelect ul { -webkit-border-bottom-left-radius:10px; -webkit-border-bottom-right-radius:10px; }

.roundBottom,

.cSelect ul { -moz-border-radius-bottomleft:10px; -moz-border-radius-bottomright:10px; }





.cSelectWidth { width:10em; display:block;}



.cSelect-wrapper { position:relative; }



.cSelect ul { background:#fff; padding:0px; margin:0px; display:inline-block; }

.cSelect ul { z-index:10; position:absolute; top:1.3em; }

.cSelect ul { padding-bottom:.5em; padding-top:.5em; padding-left:0px; padding-right:0px; }

/*.cSelect ul { border:1px solid #d0d0d0; }*/





.cSelect li { padding:.1em; margin:0px; text-align:right; list-style-type:none; }

.cSelect li { padding-left:.7em; padding-right:24px; }



.cSelect-highlight { background:#f0f0f0; }



.cSelect-Selected { margin-left:.5em; margin-right:.5em; text-align:right; float:right; width:75%}



.cSelect-ArrowDown { width:18px; height:18px; display:inline-block; float:right}

.cSelect-ArrowDown { background:url('../Images/down-arrow.png'); text-align:center; }

.cSelect-ArrowDown { -moz-border-radius:9px; -webkit-border-radius:9px; }



.monoCompatibility-roweven { background-color:#DCDDDF; }

.monoCompatibility-rowodd { background-color:#F3F3F4; }

.monoCompatibility-cell { border:1px solid #ffffff;}





</style>

</head>



<body>





<table class="titlebar" cellpadding=0 cellspacing=0 border=0><tr>

	<td class="titleleft"><img src="../images/top/left.png"></td>

	<td><a href="../../Documentation.html"><img src="../images/top/logo.png"></a></td>

	<td class="titlemid">

		<table><tr>

			<td class="doctitle"><a href='Mesh.html' class='classlink' title='Go to Mesh scripting documentation'>Mesh</a>.bindposes</td>

			<!-- #TemplateBeginEditable name="sections-nav" -->

			<td class="Scripting"><a href="../Manual/index.html" title="Go to Unity manual" class="scripting-anchor"><img src="../images/spacer.gif" class="manual" border="0"><span class="manual-text">Manual</span></a><span class="docs-navigation">&nbsp;&nbsp;&nbsp;&nbsp;</span></td>

			<td class="Scripting"><a href="../Components/index.html" title="Go to Reference" class="scripting-anchor"><img src="../images/spacer.gif" class="reference" border="0"><span class="components-text">Reference</span></a><span class="docs-navigation">&nbsp;&nbsp;&nbsp;&nbsp;</span></td>

			<td class="Scripting"><a href="../ScriptReference/index.html" title="Go to Scripting Reference" class="scripting-anchor"><img src="../images/spacer.gif" class="scripting" border="0"><span class="scripting-text">Scripting&nbsp;&nbsp;</span></a></td>

			<!-- #TemplateEndEditable -->	

		</tr><tr>

			<td colspan="4">

				<table width="100%" class="docpath"><tr><td >

					<!-- #TemplateBeginEditable name="path" -->

						<a href="index.html">Scripting</a> &gt <a href='20_class_hierarchy.html'>Runtime Classes</a> &gt <a href='Mesh.html'>Mesh</a>

					<!-- #TemplateEndEditable -->	

				</td>

				</td><td class="switchlink">

					<!-- #TemplateBeginEditable name="switchLink" -->

					<!--BeginSwitchLink--><!--EndSwitchLink-->

					<!-- #TemplateEndEditable -->	

				</td></tr></table>

			</td>

		</tr></table>

	</td>

	<td class="titleright" width="9"><img src="../images/top/right.png"></td>

</tr></table>

<div class="scriprefmain">

		<span class="heading">

			<!-- #TemplateBeginEditable name="title" -->

				<a href='Mesh.html' class='classlink' title='Go to Mesh scripting documentation'>Mesh</a>.bindposes

			<!-- #TemplateEndEditable -->	

		</span>

<!-- #TemplateBeginEditable name="details" -->

	<span class="text"></span>

<!-- #TemplateEndEditable -->	



	<!-- #TemplateBeginEditable name="manual-top-nav" --><div class="left-menu-container"><ul class="left-menu"><li>

<form class="apisearch" action="30_search.html" method="GET">

	<input type="search" name="q" placeholder="Search" autosave="Unity Reference" results="5" class="sbox" id="q" />

				

	<script type="text/javascript" language="JavaScript">

	<!--

	function detect() {

		// simplify things

		var agent 	= navigator.userAgent.toLowerCase();

		

		// detect platform

		this.isMac		= (agent.indexOf('mac') != -1);

		this.isWin		= (agent.indexOf('win') != -1);

		this.isWin2k	= (this.isWin && (

				agent.indexOf('nt 5') != -1));

		this.isWinSP2	= (this.isWin && (

				agent.indexOf('xp') != -1 || 

				agent.indexOf('sv1') != -1));

		this.isOther	= (

				agent.indexOf('unix') != -1 || 

				agent.indexOf('sunos') != -1 || 

				agent.indexOf('bsd') != -1 ||

				agent.indexOf('x11') != -1 || 

				agent.indexOf('linux') != -1);

		

		// detect browser

		this.isSafari	= (agent.indexOf('safari') != -1);

		this.isSafari2 = (this.isSafari && (parseFloat(agent.substring(agent.indexOf("applewebkit/")+"applewebkit/".length,agent.length).substring(0,agent.substring(agent.indexOf("applewebkit/")+"applewebkit/".length,agent.length).indexOf(' '))) >=  300));

		this.isOpera	= (agent.indexOf('opera') != -1);

		this.isNN		= (agent.indexOf('netscape') != -1);

		this.isIE		= (agent.indexOf('msie') != -1);

	}

	var browser = new detect();

	var str = "Search";

	var q=document.getElementById('q');

	if (!browser.isSafari2) {q.value=str;q.onfocus=function(){q.value="";q.style.color="#000";};}

	//-->

	</script>

</form>

</li><li><span class="left-menu-heading">Menu</span></li><li><a title="Scripting overview" class="left-menu-item" href="index.html">Overview</a></li><li><a title="List of scripting classes" class="left-menu-item" href="20_class_hierarchy.html">Runtime Classes</a></li><li><a title="List of attributes" class="left-menu-item left-menu-indent" href="20_class_hierarchy.Attributes.html">Attributes</a></li><li><a title="List of enumerations" class="left-menu-item left-menu-indent" href="20_class_hierarchy.Enumerations.html">Enumerations</a></li><li><a title="Classes for extending Unity editor" class="left-menu-item" href="20_class_hierarchy.Editor_Classes.html">Editor Classes</a></li><li><a title="List of editor enumerations" class="left-menu-item left-menu-indent" href="20_class_hierarchy.Editor_Enumerations.html">Enumerations</a></li><li><a title="Scripting change history" class="left-menu-item" href="40_history.html">History</a></li><li><a title="Alphabetical index" class="left-menu-item" href="10_reference.html">Index</a></li><li><span class="left-menu-seperator"></span></li><li><a class="left-menu-heading" href="Mesh.html">Mesh</a></li><li><a class="left-menu-item" href="Mesh.html">All Members</a></li><li><span class="left-menu-subheading">Variables</span></li><li><span class="left-menu-item left-menu-current">bindposes</span></li><li><a class="left-menu-item" href="Mesh-boneWeights.html">boneWeights</a></li><li><a class="left-menu-item" href="Mesh-bounds.html">bounds</a></li><li><a class="left-menu-item" href="Mesh-colors.html">colors</a></li><li><a class="left-menu-item" href="Mesh-normals.html">normals</a></li><li><a class="left-menu-item" href="Mesh-subMeshCount.html">subMeshCount</a></li><li><a class="left-menu-item" href="Mesh-tangents.html">tangents</a></li><li><a class="left-menu-item" href="Mesh-triangles.html">triangles</a></li><li><a class="left-menu-item" href="Mesh-uv.html">uv</a></li><li><a class="left-menu-item" href="Mesh-uv2.html">uv2</a></li><li><a class="left-menu-item" href="Mesh-vertexCount.html">vertexCount</a></li><li><a class="left-menu-item" href="Mesh-vertices.html">vertices</a></li><li><span class="left-menu-subheading">Constructors</span></li><li><a class="left-menu-item" href="Mesh.Mesh.html">Mesh</a></li><li><span class="left-menu-subheading">Functions</span></li><li><a class="left-menu-item" href="Mesh.Clear.html">Clear</a></li><li><a class="left-menu-item" href="Mesh.CombineMeshes.html">CombineMeshes</a></li><li><a class="left-menu-item" href="Mesh.GetTriangles.html">GetTriangles</a></li><li><a class="left-menu-item" href="Mesh.Optimize.html">Optimize</a></li><li><a class="left-menu-item" href="Mesh.RecalculateBounds.html">RecalculateBounds</a></li><li><a class="left-menu-item" href="Mesh.RecalculateNormals.html">RecalculateNormals</a></li><li><a class="left-menu-item" href="Mesh.SetTriangles.html">SetTriangles</a></li><li><span class="left-menu-softheading">Inherited Variables</span></li><li><a title="Inherited from Object" class="left-menu-inherited-item" href="Object-hideFlags.html?from=Mesh">hideFlags</a></li><li><a title="Inherited from Object" class="left-menu-inherited-item" href="Object-name.html?from=Mesh">name</a></li><li><span class="left-menu-softheading">Inherited Functions</span></li><li><a title="Inherited from Object" class="left-menu-inherited-item" href="Object.GetInstanceID.html?from=Mesh">GetInstanceID</a></li><li><span class="left-menu-softheading">Inherited Class Functions</span></li><li><a title="Inherited from Object" class="left-menu-inherited-item" href="Object.Destroy.html?from=Mesh">Destroy</a></li><li><a title="Inherited from Object" class="left-menu-inherited-item" href="Object.DestroyImmediate.html?from=Mesh">DestroyImmediate</a></li><li><a title="Inherited from Object" class="left-menu-inherited-item" href="Object.DontDestroyOnLoad.html?from=Mesh">DontDestroyOnLoad</a></li><li><a title="Inherited from Object" class="left-menu-inherited-item" href="Object.FindObjectOfType.html?from=Mesh">FindObjectOfType</a></li><li><a title="Inherited from Object" class="left-menu-inherited-item" href="Object.FindObjectsOfType.html?from=Mesh">FindObjectsOfType</a></li><li><a title="Inherited from Object" class="left-menu-inherited-item" href="Object.Instantiate.html?from=Mesh">Instantiate</a></li><li><a title="Inherited from Object" class="left-menu-inherited-item" href="Object-operator_ne.html?from=Mesh">operator !=</a></li><li><a title="Inherited from Object" class="left-menu-inherited-item" href="Object-operator_eq.html?from=Mesh">operator ==</a></li><li><a title="Inherited from Object" class="left-menu-inherited-item" href="Object-operator_bool.html?from=Mesh">operator bool</a></li></ul></div>

	<!-- #TemplateEndEditable -->

<!-- #TemplateBeginEditable name="unofficial translation" -->
<div id="unofficial_translation"><center><table border="1" ><tr><td  bgcolor="yellow"><center>このドキュメントは有志により翻訳されたもので、オフィシャルではありません。オリジナルのページは<a href="http://unity3d.com/support/documentation/" target="_blank">こちら</a>。<br>This document is unofficially translated by users.Please see the original document <a href="http://unity3d.com/support/documentation/" target="_blank">here</a>.<br><br>翻訳に関する修正など、ご連絡は<a href="mailto:stagesp1@gmail.com">こちら</a>まで。<br>Please send e-mail to <a href="mailto:stagesp1@gmail.com">here</a>, when you have any question about the translation.</center></td>
<!--<td><a href="toedit_proxy.php?url=<replace_here_with_url>"><img src="../Images/pencil.png"/></a><br/>編集</td>-->
</tr></table></center></div>
<!-- #TemplateEndEditable -->

<!-- #TemplateEndEditable -->

			<!-- #TemplateBeginEditable name="body" -->

			<div class="manual-entry"><h3><span class="hl-keyword">var</span> bindposes : <a href="Matrix4x4.html" class="classlink">Matrix4x4</a>[]

</h3><h3 class="soft">Description</h3>

   <p class="details"> The bind poses. The bind pose at each index refers to the bone with the same index.</p>

   <p class="details"> The bind pose is the inverse of inverse transformation matrix of the bone, when the bone is in the bind pose.

<div class="example">

  <div style="clear:both;">

    <div class="cSelect cSelectWidth roundBottom">

      <div class="cSelect-wrapper">

        <div class="cSelect-ArrowDown"></div>

	 <span class="cSelect-Selected">

	 JavaScripts

	 </span>

	 <ul class="cSelectWidth" style="display:none;">

		<li>JavaScript</li>

		<li>C#</li>

		<li>Boo</li>

	 </ul>

      </div>

    </div>

    <div style="clear:both;"></div>

  </div>

<div class="code" code_lang_name="JavaScript"><span class="hl-keyword">function</span> <span class="hl-operator">Start</span> () {<br/>    gameObject.AddComponent(<a href="Animation.html" class="classlink">Animation</a>);<br/>    gameObject.AddComponent(<a href="SkinnedMeshRenderer.html" class="classlink">SkinnedMeshRenderer</a>);<br/>    <span class="hl-keyword">var</span> renderer : <a href="SkinnedMeshRenderer.html" class="classlink">SkinnedMeshRenderer</a> = GetComponent(<a href="SkinnedMeshRenderer.html" class="classlink">SkinnedMeshRenderer</a>);<br/>    <br/>    <span class="hl-comment">// Build basic mesh</span><span class="hl-comment"><br/></span>    <span class="hl-keyword">var</span> mesh : Mesh = <span class="hl-keyword">new</span> Mesh ();<br/>    mesh.vertices = [<a href="Vector3.html" class="classlink">Vector3</a>(-1, 0, 0), <a href="Vector3.html" class="classlink">Vector3</a>(1, 0, 0), <a href="Vector3.html" class="classlink">Vector3</a>(-1, 5, 0),<br/>                     <a href="Vector3.html" class="classlink">Vector3</a>(1, 5, 0)];<br/>    mesh.uv = [<a href="Vector2.html" class="classlink">Vector2</a>(0, 0), <a href="Vector2.html" class="classlink">Vector2</a>(1, 0), <a href="Vector2.html" class="classlink">Vector2</a>(0, 1), <a href="Vector2.html" class="classlink">Vector2</a>(1, 1)];<br/>    mesh.triangles = [0, 1, 2, 1, 3, 2];<br/>    mesh.RecalculateNormals();<br/><br/>    <span class="hl-comment">// Assign mesh to mesh filter &amp; renderer</span><span class="hl-comment"><br/></span>    renderer.material = <span class="hl-keyword">new</span> <a href="Material.html" class="classlink">Material</a> (<a href="Shader.Find.html?from=Mesh" class="itemlink">Shader.Find</a>(<span class="hl-string">" Diffuse"</span>));<br/><br/>    <span class="hl-comment">// Assign bone weights to mesh</span><span class="hl-comment"><br/></span>    <span class="hl-comment">// We use 2 bones. One for the lower vertices, one for the upper vertices.</span><span class="hl-comment"><br/></span>    <span class="hl-keyword">var</span> weights = <span class="hl-keyword">new</span> <a href="BoneWeight.html" class="classlink">BoneWeight</a>[4];<br/><br/>    weights[0].boneIndex0 = 0;<br/>    weights[0].weight0 = 1;<br/><br/>    weights[1].boneIndex0 = 0;<br/>    weights[1].weight0 = 1;<br/><br/>    weights[2].boneIndex0 = 1;<br/>    weights[2].weight0 = 1;<br/><br/>    weights[3].boneIndex0 = 1;<br/>    weights[3].weight0 = 1;<br/><br/>    mesh.boneWeights = weights;<br/>    <br/>    <span class="hl-comment">// Create Bone Transforms and Bind poses</span><span class="hl-comment"><br/></span>    <span class="hl-comment">// One bone at the bottom and one at the top</span><span class="hl-comment"><br/></span>    <span class="hl-keyword">var</span> bones : <a href="Transform.html" class="classlink">Transform</a>[] = <span class="hl-keyword">new</span> <a href="Transform.html" class="classlink">Transform</a>[2];<br/>    <span class="hl-keyword">var</span> bindPoses : <a href="Matrix4x4.html" class="classlink">Matrix4x4</a>[] = <span class="hl-keyword">new</span> <a href="Matrix4x4.html" class="classlink">Matrix4x4</a>[2];<br/><br/>    bones[0] = <span class="hl-keyword">new</span> <a href="GameObject.html" class="classlink">GameObject</a> (<span class="hl-string">"Lower"</span>).transform;<br/>    bones[0].parent = transform;<br/>    <span class="hl-comment">// Set the position relative to the parent</span><span class="hl-comment"><br/></span>    bones[0].localRotation = <a href="Quaternion-identity.html?from=Mesh" class="itemlink">Quaternion.identity</a>;<br/>    bones[0].localPosition = <a href="Vector3-zero.html?from=Mesh" class="itemlink">Vector3.zero</a>;<br/>    <span class="hl-comment">// The bind pose is bone's inverse transformation matrix</span><span class="hl-comment"><br/></span>    <span class="hl-comment">// In this case the matrix we also make this matrix relative to the root</span><span class="hl-comment"><br/></span>    <span class="hl-comment">// So that we can move the root game object around freely</span><span class="hl-comment"><br/></span>    bindPoses[0] = bones[0].worldToLocalMatrix * transform.localToWorldMatrix;<br/>    <br/>    bones[1] = <span class="hl-keyword">new</span> <a href="GameObject.html" class="classlink">GameObject</a> (<span class="hl-string">"Upper"</span>).transform;<br/>    bones[1].parent = transform;<br/>    <span class="hl-comment">// Set the position relative to the parent</span><span class="hl-comment"><br/></span>    bones[1].localRotation = <a href="Quaternion-identity.html?from=Mesh" class="itemlink">Quaternion.identity</a>;<br/>    bones[1].localPosition = <a href="Vector3.html" class="classlink">Vector3</a> (0, 5, 0);<br/>    <span class="hl-comment">// The bind pose is bone's inverse transformation matrix</span><span class="hl-comment"><br/></span>    <span class="hl-comment">// In this case the matrix we also make this matrix relative to the root</span><span class="hl-comment"><br/></span>    <span class="hl-comment">// So that we can move the root game object around freely</span><span class="hl-comment"><br/></span>    bindPoses[1] = bones[1].worldToLocalMatrix * transform.localToWorldMatrix;<br/><br/>    mesh.bindposes = bindPoses;<br/>    <br/>    <span class="hl-comment">// Assign bones and bind poses</span><span class="hl-comment"><br/></span>    renderer.bones = bones;<br/>    renderer.sharedMesh = mesh;<br/><br/>    <span class="hl-comment">// Assign a simple waving animation to the bottom bone</span><span class="hl-comment"><br/></span>    <span class="hl-keyword">var</span> curve : <a href="AnimationCurve.html" class="classlink">AnimationCurve</a> = <span class="hl-keyword">new</span> <a href="AnimationCurve.html" class="classlink">AnimationCurve</a>();<br/>    curve.keys = [ <span class="hl-keyword">new</span> <a href="Keyframe.html" class="classlink">Keyframe</a> (0, 0, 0, 0), <span class="hl-keyword">new</span> <a href="Keyframe.html" class="classlink">Keyframe</a> (1, 3, 0, 0),<br/>                   <span class="hl-keyword">new</span> <a href="Keyframe.html" class="classlink">Keyframe</a> (2, 0.0, 0, 0) ];<br/><br/>    <span class="hl-comment">// Create the clip with the curve</span><span class="hl-comment"><br/></span>    <span class="hl-keyword">var</span> clip : <a href="AnimationClip.html" class="classlink">AnimationClip</a> = <span class="hl-keyword">new</span> <a href="AnimationClip.html" class="classlink">AnimationClip</a>();<br/>    clip.SetCurve(<span class="hl-string">"Lower"</span>, <a href="Transform.html" class="classlink">Transform</a>, <span class="hl-string">"m_LocalPosition.z"</span>, curve);<br/>    <br/>    <span class="hl-comment">// Add and play the clip</span><span class="hl-comment"><br/></span>    animation.AddClip(clip, <span class="hl-string">"test"</span>);<br/>    animation.Play(<span class="hl-string">"test"</span>);<br/>}<br/><p class="details"></div>

<div class="code" code_lang_name="C#">using UnityEngine;<br/>using System.Collections;<br/><br/><span class="hl-keyword">public</span> <span class="hl-keyword">class</span> example : <a href="MonoBehaviour.html" class="classlink">MonoBehaviour</a> {<br/>    <span class="hl-keyword">void</span> <span class="hl-operator">Start</span>() {<br/>        gameObject.AddComponent&lt;<a href="Animation.html" class="classlink">Animation</a>&gt;();<br/>        gameObject.AddComponent&lt;<a href="SkinnedMeshRenderer.html" class="classlink">SkinnedMeshRenderer</a>&gt;();<br/>        <a href="SkinnedMeshRenderer.html" class="classlink">SkinnedMeshRenderer</a> renderer = GetComponent&lt;<a href="SkinnedMeshRenderer.html" class="classlink">SkinnedMeshRenderer</a>&gt;();<br/>        Mesh mesh = <span class="hl-keyword">new</span> Mesh();<br/>        mesh.vertices = <span class="hl-keyword">new</span> <a href="Vector3.html" class="classlink">Vector3</a>[] {<span class="hl-keyword">new</span> <a href="Vector3.html" class="classlink">Vector3</a>(-1, 0, 0), <span class="hl-keyword">new</span> <a href="Vector3.html" class="classlink">Vector3</a>(1, 0, 0), <span class="hl-keyword">new</span> <a href="Vector3.html" class="classlink">Vector3</a>(-1, 5, 0), <span class="hl-keyword">new</span> <a href="Vector3.html" class="classlink">Vector3</a>(1, 5, 0)};<br/>        mesh.uv = <span class="hl-keyword">new</span> <a href="Vector2.html" class="classlink">Vector2</a>[] {<span class="hl-keyword">new</span> <a href="Vector2.html" class="classlink">Vector2</a>(0, 0), <span class="hl-keyword">new</span> <a href="Vector2.html" class="classlink">Vector2</a>(1, 0), <span class="hl-keyword">new</span> <a href="Vector2.html" class="classlink">Vector2</a>(0, 1), <span class="hl-keyword">new</span> <a href="Vector2.html" class="classlink">Vector2</a>(1, 1)};<br/>        mesh.triangles = <span class="hl-keyword">new</span> <span class="hl-datatype">int</span>[] {0, 1, 2, 1, 3, 2};<br/>        mesh.RecalculateNormals();<br/>        renderer.material = <span class="hl-keyword">new</span> <a href="Material.html" class="classlink">Material</a>(<a href="Shader.Find.html?from=Mesh" class="itemlink">Shader.Find</a>(<span class="hl-string">" Diffuse"</span>));<br/>        <a href="BoneWeight.html" class="classlink">BoneWeight</a>[] weights = <span class="hl-keyword">new</span> <a href="BoneWeight.html" class="classlink">BoneWeight</a>[4];<br/>        weights[0].boneIndex0 = 0;<br/>        weights[0].weight0 = 1;<br/>        weights[1].boneIndex0 = 0;<br/>        weights[1].weight0 = 1;<br/>        weights[2].boneIndex0 = 1;<br/>        weights[2].weight0 = 1;<br/>        weights[3].boneIndex0 = 1;<br/>        weights[3].weight0 = 1;<br/>        mesh.boneWeights = weights;<br/>        <a href="Transform.html" class="classlink">Transform</a>[] bones = <span class="hl-keyword">new</span> <a href="Transform.html" class="classlink">Transform</a>[2];<br/>        <a href="Matrix4x4.html" class="classlink">Matrix4x4</a>[] bindPoses = <span class="hl-keyword">new</span> <a href="Matrix4x4.html" class="classlink">Matrix4x4</a>[2];<br/>        bones[0] = <span class="hl-keyword">new</span> <a href="GameObject.html" class="classlink">GameObject</a>(<span class="hl-string">"Lower"</span>).transform;<br/>        bones[0].parent = transform;<br/>        bones[0].localRotation = <a href="Quaternion-identity.html?from=Mesh" class="itemlink">Quaternion.identity</a>;<br/>        bones[0].localPosition = <a href="Vector3-zero.html?from=Mesh" class="itemlink">Vector3.zero</a>;<br/>        bindPoses[0] = bones[0].worldToLocalMatrix * transform.localToWorldMatrix;<br/>        bones[1] = <span class="hl-keyword">new</span> <a href="GameObject.html" class="classlink">GameObject</a>(<span class="hl-string">"Upper"</span>).transform;<br/>        bones[1].parent = transform;<br/>        bones[1].localRotation = <a href="Quaternion-identity.html?from=Mesh" class="itemlink">Quaternion.identity</a>;<br/>        bones[1].localPosition = <span class="hl-keyword">new</span> <a href="Vector3.html" class="classlink">Vector3</a>(0, 5, 0);<br/>        bindPoses[1] = bones[1].worldToLocalMatrix * transform.localToWorldMatrix;<br/>        mesh.bindposes = bindPoses;<br/>        renderer.bones = bones;<br/>        renderer.sharedMesh = mesh;<br/>        <a href="AnimationCurve.html" class="classlink">AnimationCurve</a> curve = <span class="hl-keyword">new</span> <a href="AnimationCurve.html" class="classlink">AnimationCurve</a>();<br/>        curve.keys = <span class="hl-keyword">new</span> <a href="Keyframe.html" class="classlink">Keyframe</a>[] {<span class="hl-keyword">new</span> <a href="Keyframe.html" class="classlink">Keyframe</a>(0, 0, 0, 0), <span class="hl-keyword">new</span> <a href="Keyframe.html" class="classlink">Keyframe</a>(1, 3, 0, 0), <span class="hl-keyword">new</span> <a href="Keyframe.html" class="classlink">Keyframe</a>(2, 0.0F, 0, 0)};<br/>        <a href="AnimationClip.html" class="classlink">AnimationClip</a> clip = <span class="hl-keyword">new</span> <a href="AnimationClip.html" class="classlink">AnimationClip</a>();<br/>        clip.SetCurve(<span class="hl-string">"Lower"</span>, typeof(<a href="Transform.html" class="classlink">Transform</a>), <span class="hl-string">"m_LocalPosition.z"</span>, curve);<br/>        animation.AddClip(clip, <span class="hl-string">"test"</span>);<br/>        animation.Play(<span class="hl-string">"test"</span>);<br/>    }<br/>}<br/><p class="details"></div>

<div class="code" code_lang_name="Boo"><span class="hl-keyword">import</span> UnityEngine<br/><span class="hl-keyword">import</span> System.Collections<br/><br/><span class="hl-keyword">class</span> example(<a href="MonoBehaviour.html" class="classlink">MonoBehaviour</a>):<br/><br/>    def <span class="hl-operator">Start</span>():<br/>        gameObject.AddComponent[of <a href="Animation.html" class="classlink">Animation</a>]()<br/>        gameObject.AddComponent[of <a href="SkinnedMeshRenderer.html" class="classlink">SkinnedMeshRenderer</a>]()<br/>        renderer as <a href="SkinnedMeshRenderer.html" class="classlink">SkinnedMeshRenderer</a> = GetComponent[of <a href="SkinnedMeshRenderer.html" class="classlink">SkinnedMeshRenderer</a>]()<br/>        mesh as Mesh = Mesh()<br/>        mesh.vertices = (<a href="Vector3.html" class="classlink">Vector3</a>(-1, 0, 0), <a href="Vector3.html" class="classlink">Vector3</a>(1, 0, 0), <a href="Vector3.html" class="classlink">Vector3</a>(-1, 5, 0), <a href="Vector3.html" class="classlink">Vector3</a>(1, 5, 0))<br/>        mesh.uv = (<a href="Vector2.html" class="classlink">Vector2</a>(0, 0), <a href="Vector2.html" class="classlink">Vector2</a>(1, 0), <a href="Vector2.html" class="classlink">Vector2</a>(0, 1), <a href="Vector2.html" class="classlink">Vector2</a>(1, 1))<br/>        mesh.triangles = (0, 1, 2, 1, 3, 2)<br/>        mesh.RecalculateNormals()<br/>        renderer.material = <a href="Material.html" class="classlink">Material</a>(<a href="Shader.Find.html?from=Mesh" class="itemlink">Shader.Find</a>(' Diffuse'))<br/>        weights as (<a href="BoneWeight.html" class="classlink">BoneWeight</a>) = array(typeof(<a href="BoneWeight.html" class="classlink">BoneWeight</a>), 4)<br/>        weights[0].boneIndex0 = 0<br/>        weights[0].weight0 = 1<br/>        weights[1].boneIndex0 = 0<br/>        weights[1].weight0 = 1<br/>        weights[2].boneIndex0 = 1<br/>        weights[2].weight0 = 1<br/>        weights[3].boneIndex0 = 1<br/>        weights[3].weight0 = 1<br/>        mesh.boneWeights = weights<br/>        bones as (<a href="Transform.html" class="classlink">Transform</a>) = array(typeof(<a href="Transform.html" class="classlink">Transform</a>), 2)<br/>        bindPoses as (<a href="Matrix4x4.html" class="classlink">Matrix4x4</a>) = array(typeof(<a href="Matrix4x4.html" class="classlink">Matrix4x4</a>), 2)<br/>        bones[0] = <a href="GameObject.html" class="classlink">GameObject</a>('Lower').transform<br/>        bones[0].parent = transform<br/>        bones[0].localRotation = <a href="Quaternion-identity.html?from=Mesh" class="itemlink">Quaternion.identity</a><br/>        bones[0].localPosition = <a href="Vector3-zero.html?from=Mesh" class="itemlink">Vector3.zero</a><br/>        bindPoses[0] = (bones[0].worldToLocalMatrix * transform.localToWorldMatrix)<br/>        bones[1] = <a href="GameObject.html" class="classlink">GameObject</a>('Upper').transform<br/>        bones[1].parent = transform<br/>        bones[1].localRotation = <a href="Quaternion-identity.html?from=Mesh" class="itemlink">Quaternion.identity</a><br/>        bones[1].localPosition = <a href="Vector3.html" class="classlink">Vector3</a>(0, 5, 0)<br/>        bindPoses[1] = (bones[1].worldToLocalMatrix * transform.localToWorldMatrix)<br/>        mesh.bindposes = bindPoses<br/>        renderer.bones = bones<br/>        renderer.sharedMesh = mesh<br/>        curve as <a href="AnimationCurve.html" class="classlink">AnimationCurve</a> = <a href="AnimationCurve.html" class="classlink">AnimationCurve</a>()<br/>        curve.keys = (<a href="Keyframe.html" class="classlink">Keyframe</a>(0, 0, 0, 0), <a href="Keyframe.html" class="classlink">Keyframe</a>(1, 3, 0, 0), <a href="Keyframe.html" class="classlink">Keyframe</a>(2, 0.0F, 0, 0))<br/>        clip as <a href="AnimationClip.html" class="classlink">AnimationClip</a> = <a href="AnimationClip.html" class="classlink">AnimationClip</a>()<br/>        clip.SetCurve('Lower', <a href="Transform.html" class="classlink">Transform</a>, 'm_LocalPosition.z', curve)<br/>        animation.AddClip(clip, 'test')<br/>        animation.Play('test')<br/><p class="details"></div>

</div></p>

<div class="entry-sep"></div>

</div>	

	</div><!-- #TemplateEndEditable -->

    <script type="text/javascript">



    //prevent an error on older versions of IE(x) < IE7 who did not have a javascript console.

    if (typeof console == "undefined" || typeof console.log == "undefined") var console = { log: function() {} };





    var $j = jQuery.noConflict();

    $j(document).ready(function($){



    	var languages = [];

    	function getCookie(cookieName){

    //a wrapper, because google chrome does not allow for security reasons cookies on local files.

    //an option can be set while loading chrome to allow cookies on local files

    		try {

    			return $.cookie(cookieName);

    		}catch(e){

    			console.log(e);

    		}

    	}



    	function setCookie(cookieName, cookieValue){

    //a wrapper, because google chrome does not allow for security reasons cookies on local files.

    //an option can be set while loading chrome to allow cookies on local files

    		try{

    			return $.cookie(cookieName, cookieValue);

    		}catch(e){

    			console.log(e);

    		}

    	}

    

    /*

    decectLangauges looks at all of the div(s) containing a class of "code"

    it then creates a list of languages in that list to generate the drop down.

    to ad a language, ad an example with that language defined 

    in the attribute "code_lang_name" for that div

    */

    	function detectLanguages(){

    		languages = [];

    		$("div.code").each(

    			function(){

    				var isThere = false;

    //set the value of the attribute

    				var isNewLang = $(this).attr("code_lang_name");

    				for ( i in languages ){

    					if( isNewLang == languages[i] ){

    						isThere = true;

    					}

    				}				

    				if( !isThere ){

    //adds a new language to the stack/ array

    				   languages.push(isNewLang);

    				}

    			});

    		console.log("languages detected", languages);

    	}

    

    //execute the function detectLanguages just after we defined it, this should only happen once and on page load after the document object model is ready

    	detectLanguages();



    	function buildListCSelect(){

    //finds the doc element with an id of selectedLangauge, base on css3 rules, then removes all children

    		$(".cSelect ul").empty();

    		$(".cSelect .cSelect-Selected").text("");

    		var langCookie = getCookie("codeLanguage");		

    		for( i in languages ){

    //inserts a new child with the included html

    			$(".cSelect ul").append("<li>" + languages[i] + "</li>");

    		}

    

    //if the cookie is there, set that item to selected.

    		for( i in languages ){

    			if(langCookie !== null && languages[i] == langCookie){

    				$(".cSelect .cSelect-Selected").text(languages[i]);

    			}

    		}



    		if( $(".cSelect .cSelect-Selected").text().length == 0){

    			var first = $(".cSelect li:first").text();

    			$(".cSelect .cSelect-Selected").text(first);

    		}



    	}

    	buildListCSelect();

    

    	function showCSelectedLanguage(){

    		var selected = $(".cSelect .cSelect-Selected:first").text();

    		var langAvail = false;

    		var langCookie = getCookie("codeLanguage");

    		for( i in languages ){

    			if(langCookie == languages[i]){

    				langAvail = true;

    			}

    		}

    		if(langAvail) {

    			selected = langCookie;

    		} else {

    			console.log("the language stored in the cookie is not availible", langCookie);

    		}

    		$("div.code[code_lang_name]").hide();

    		$("div.code[code_lang_name='"+ selected +"']").show();

    	}

    	showCSelectedLanguage(); //set the default.

           $(".cSelect").addClass("roundBottom");

    	$(".cSelect ul").hide();

    /* 	$(".cSelect").hover(

     		function(){

     			$(this).find("ul").show();

     		},

     		function(){

     			$(this).find("ul").hide();

     		}

     	);

*/

    	$(".cSelect").hover(

    		function(){

    			$(document).unbind("click.cSelect");

    		},

    		function(){

    			$(document).bind("click.cSelect", function(event){

                                   $(".cSelect").addClass("roundBottom");

    				$(".cSelect ul").hide();

    				$(this).unbind(event);

    			});

    		}

    	);





    	$(".cSelect li").hover(

    		function(){

    			$(this).addClass("cSelect-highlight");

    		},

    		function(){

    			$(this).removeClass("cSelect-highlight");

    		}

    	);



    	var suppress = false;

    	function enable(){

    		suppress = false;

    	}





    	$(".cSelect li").click(function(){

    		var value = $(this).text();

    		console.log( "new selection ", value );

    		$(this).parents(".cSelect").find(".cSelect-Selected").text(value);

    		suppress = true;

                   $(".cSelect").addClass("roundBottom");

    		$(".cSelect ul").hide();

    		$(this).parents(".cSelect").trigger("change");

    		setTimeout(enable, 300 );

    	});





           $(".cSelect-ArrowDown")

     		.add(".cSelect-Selected")

     		.add(".cSelect").click(

     		function(){

     			var visible = $(this).parents(".cSelect").find("ul").css("display") == "block" ? true : false;

     			if( !visible ){

     				$(this).parents(".cSelect").removeClass("roundBottom");

     				$(this).parents(".cSelect").find("ul").show();

     			}else{

     				$(this).parents(".cSelect").addClass("roundBottom");

     				$(".cSelect ul").hide();

     			}

     		});





    	$(".cSelect").click(function(){if(!suppress){}});

 

    	$(".cSelect").change(function(){

    		console.log("selected",$(this).find(".cSelect-Selected").text());

    		selected = $(this).find(".cSelect-Selected").text();

    		$(".cSelect").find(".cSelect-Selected").text(selected);

    		$("div.code[code_lang_name]").hide();

    		$("div.code[code_lang_name='"+ selected +"']").show();

    		setCookie("codeLanguage", selected);

    	});

    });

    </script>

</body>

</html><!-- #EndTemplate -->



